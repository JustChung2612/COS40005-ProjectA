/* ==============================
   Library.scss
   ============================== */

:root {
  --page: #f5f7fb;
  --bg: #ffffff;
  --fg: #0f172a;
  --muted: #64748b;
  --border: rgba(15, 23, 42, .08);
  --shadow: 0 8px 24px rgba(15, 23, 42, .06);

  --primary: #0ea5e9;
  --primary-700: #0284c7;
  --success: #16a34a;
  --warning: #d97706;
  --accent: #2563eb;
  --lib-gap: 20px;
}

/* Page */
.library {
  background: var(--page);
  color: var(--fg);
  min-height: 100vh;

  .container {
    max-width: 1440px;         
    margin: 0 auto;
    padding: 20px 16px 48px;  

    .grid{
    gap: var(--lib-gap);
    justify-content: center;
    }

    @media (min-width: 1024px) {
      padding: 20px 20px 56px;
    }
  }
}

/* Header */
.lib-header { margin: 8px 0 18px; }
.lib-title {
  font-size: clamp(2rem, 4.5vw, 2.6rem);
  font-weight: 800;
  letter-spacing: -0.02em;
  color: var(--fg);
}
.lib-sub { color: var(--muted); }

/* Controls */
.lib-controls { display: grid; gap: 16px; margin: 18px 0 20px; }

/* Search */
.search {
  position: relative;

  &__icon {
    position: absolute; left: 14px; top: 50%; transform: translateY(-50%);
    width: 18px; height: 18px; color: var(--muted);
  }

  &__input { padding-left: 44px; }
}

/* Filter chips */
.filter {
  display: grid; gap: 8px;

  &__label {
    display: flex; align-items: center; gap: 8px;
    color: var(--muted); font-weight: 600;
  }
  &__chips { display: flex; flex-wrap: wrap; gap: 8px; }
}

.flex-row {
  display: grid; gap: 16px; grid-template-columns: 1fr;

  @media (min-width: 768px) {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Controls bar */
.controls__bar {
  display: flex; align-items: center; justify-content: space-between; padding-top: 6px;

  .controls__left { display: flex; gap: 8px; }
  .muted { color: var(--muted); }
}

/* Grid — card ngang dài hơn + giữ metadata 1 dòng */
.grid {
  display: grid; gap: 20px;
  align-items: stretch;

  /* Tablet: 2 cột, mỗi card min 500px */
  @media (min-width: 768px) {
    grid-template-columns: repeat(2, minmax(500px, 1fr));
  }
  /* Desktop ≥1280px: 3 cột, min 460px để card dài hơn */
  @media (min-width: 1280px) {
    grid-template-columns: repeat(3, minmax(460px, 1fr));
  }
  /* Màn rất lớn ≥1536px: còn dài hơn */
  @media (min-width: 1536px) {
    grid-template-columns: repeat(3, minmax(520px, 1fr));
  }
}


/* Empty */
.empty {
  text-align: center; padding: 64px 0; color: var(--muted);
  display: grid; gap: 8px;

  &__icon { width: 48px; height: 48px; margin: 0 auto 8px; opacity: .5; }
  &__title { color: var(--fg); font-size: 1.125rem; font-weight: 700; }
  &__sub { margin-bottom: 10px; }
}

/* ===== Primitives (light) ===== */
.ui-input {
  width:100%; height:44px;
  border:1px solid var(--border);
  background:#fff; color:var(--fg);
  border-radius:12px; padding:0 14px;
  outline:none; transition:border-color .2s, box-shadow .2s;
  box-shadow: 0 2px 0 rgba(15,23,42,.02);

  &:focus {
    border-color: rgba(2,132,199,.6);
    box-shadow: 0 0 0 3px rgba(2,132,199,.18);
  }
}

.ui-btn {
  --btn-bg: var(--accent);
  --btn-fg: #fff;
  --btn-bd: transparent;

  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  border:1px solid var(--btn-bd); background:var(--btn-bg); color:var(--btn-fg);
  font-weight:700; border-radius:10px; padding:10px 14px;
  transition: transform .05s, background .2s, border-color .2s, box-shadow .2s;
  box-shadow: 0 2px 0 rgba(15,23,42,.05);

  &:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(37,99,235,.18); }
  &:active { transform: translateY(0); box-shadow: 0 2px 0 rgba(15,23,42,.06); }

  &--outline { --btn-bg:#fff; --btn-fg:var(--fg); --btn-bd:var(--border); }
  &--sm { padding:8px 12px; font-size:.875rem; border-radius:10px; }
  &--md { padding:10px 14px; }
  &--lg { padding:12px 16px; font-size:1rem; border-radius:12px; }
}

/* Badge */
.ui-badge {
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px; font-size:.75rem; font-weight:700;
  border:1px solid var(--border); color: var(--fg); background:#fff;

  &--outline { background:#fff; color: var(--fg); }
  &--solid { background: rgba(14,165,233,.12); color:#0369a1; border-color: rgba(14,165,233,.28); }
  .no-border { border-color: transparent; }
}

/* Card (light) */
.ui-card {
  background: var(--bg);
  border:1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .2s ease;

  &:hover { transform: translateY(-2px); }

  &__header { padding:18px 18px 10px; border-bottom:1px solid transparent; }
  &__title  { font-size:1.02rem; font-weight:700; color: var(--fg); }
  &__content{ padding:14px 18px 18px; }

  /* Mô tả: nhỏ hơn + kẹp 2 dòng để card cao đều nhau */
  &__desc{
    font-size: 0.9rem; line-height: 1.5; color: var(--muted); margin-top: 2px;
    min-height: calc(2 * 1.5 * 0.9rem); /* ≈ 2.7rem */
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* CaseCard layout */
.case-card {
  border-radius: 14px;

  /* cho content bám đáy bất kể header cao thấp */
  display: flex; flex-direction: column; height: 100%;

  .ui-card__content { margin-top: auto; }

  &__top {
    display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  }

  &__meta {
    display:flex; align-items:center; gap:14px;
    color: var(--muted); font-size: 0.85rem; white-space: nowrap;

    .meta-pair { display:flex; align-items:center; gap:6px; }
    .i { width:16px; height:16px; color: var(--muted); }
  }

  &__actions {
    margin-top: 15px;
    display:flex; 
    align-items:center; 
    justify-content:space-between; 
    gap: 10px;
  }
}

/* Difficulty & Station badges (light palette) */
.badge-beginner {
  background: rgba(22,163,74,.12); color:#166534; border-color: rgba(22,163,74,.28);
  font-size: .7rem; padding: 3px 8px;
}
.badge-intermediate {
  background: rgba(217,119,6,.12); color:#92400e; border-color: rgba(217,119,6,.28);
  font-size: .7rem; padding: 3px 8px;
}
.badge-advanced {
  background: rgba(239,68,68,.12); color:#991b1b; border-color: rgba(239,68,68,.28);
  font-size: .7rem; padding: 3px 8px;
}

.station-history { background: rgba(14,165,233,.12); color:#0369a1; border:1px solid rgba(14,165,233,.28); }
.station-exam    { background: rgba(56,189,248,.12); color:#0e7490; border:1px solid rgba(56,189,248,.28); }
.station-plan    { background: rgba(99,102,241,.12); color:#3730a3; border:1px solid rgba(99,102,241,.28); }
